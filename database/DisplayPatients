package database;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

public class DisplayPatients {

    public static void displayPatients(Connection conn) {

        System.out.println("\n----- All Patients -----");

        String sql = "SELECT * FROM Patient ORDER BY PatientID";

        try (PreparedStatement stmt = conn.prepareStatement(sql);
             ResultSet rs = stmt.executeQuery()) {

            if (!rs.isBeforeFirst()) {
                System.out.println("No patients found.");
                return;
            }

            while (rs.next()) {
                System.out.println("-------------------------------------");
                System.out.println("Patient ID: " + rs.getInt("PatientID"));
                System.out.println("National ID: " + rs.getString("NationalID"));
                System.out.println("First Name: " + rs.getString("FirstName"));
                System.out.println("Middle Name: " + rs.getString("MiddleName"));
                System.out.println("Last Name: " + rs.getString("LastName"));
                System.out.println("Gender: " + rs.getString("Gender"));
                System.out.println("Phone: " + rs.getString("PatientPhoneNum"));
                System.out.println("Address: " + rs.getString("Address"));
                System.out.println("Date of Birth: " + rs.getString("DoB"));
            }

        } catch (SQLException e) {
            System.out.println("Error displaying records: " + e.getMessage());
        }
    }
}
